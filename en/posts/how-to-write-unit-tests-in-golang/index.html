<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to write unit tests in the Go programming language? | Jucelio Floresta</title><meta name=keywords content="unit test,Go"><meta name=description content="Why should you write tests? Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, Introducing Go, 2016. When we talk about testing, we&rsquo;re implicitly referring to automated testing, it&rsquo;s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]book-the-go-programming-language."><meta name=author content="Jucelio Floresta"><link rel=canonical href=https://jucelio.dev/en/posts/how-to-write-unit-tests-in-golang/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.240435e75ca00b9ebb318ad0362070822d3cd2d8c5bf439ef0c4fefddb081698.css integrity="sha256-JAQ151ygC567MYrQNiBwgi080tjFv0Oe8MT+/dsIFpg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://jucelio.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jucelio.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jucelio.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://jucelio.dev/apple-touch-icon.png><link rel=mask-icon href=https://jucelio.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=alternate hreflang=en href=https://jucelio.dev/en/posts/how-to-write-unit-tests-in-golang/><script async src="https://www.googletagmanager.com/gtag/js?id=G-7NM41JN082"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-7NM41JN082',{anonymize_ip:!1})}</script><meta property="og:title" content="How to write unit tests in the Go programming language?"><meta property="og:description" content="Why should you write tests? Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, Introducing Go, 2016. When we talk about testing, we&rsquo;re implicitly referring to automated testing, it&rsquo;s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]book-the-go-programming-language."><meta property="og:type" content="article"><meta property="og:url" content="https://jucelio.dev/en/posts/how-to-write-unit-tests-in-golang/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-01T22:00:03+00:00"><meta property="article:modified_time" content="2021-09-01T22:00:03+00:00"><meta property="og:site_name" content="Jucelio Floresta"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to write unit tests in the Go programming language?"><meta name=twitter:description content="Why should you write tests? Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, Introducing Go, 2016. When we talk about testing, we&rsquo;re implicitly referring to automated testing, it&rsquo;s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]book-the-go-programming-language."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jucelio.dev/en/posts/"},{"@type":"ListItem","position":2,"name":"How to write unit tests in the Go programming language?","item":"https://jucelio.dev/en/posts/how-to-write-unit-tests-in-golang/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to write unit tests in the Go programming language?","name":"How to write unit tests in the Go programming language?","description":"Why should you write tests? Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, Introducing Go, 2016. When we talk about testing, we\u0026rsquo;re implicitly referring to automated testing, it\u0026rsquo;s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]book-the-go-programming-language.","keywords":["unit test","Go"],"articleBody":"Why should you write tests? Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, Introducing Go, 2016. When we talk about testing, weâ€™re implicitly referring to automated testing, itâ€™s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]book-the-go-programming-language.\nHow are tests written in Golang? The Golang standard library testing package provides support for writing automated tests. A file with the suffix _test.go must exist, for example, to test sum.go, a sum_test.go file created.\nInside this file with suffix _test.go the test functions are defined, with the signature func TestFuncName(t *testing.T), where the parameter t is a reference to the type testing.T, imported from the testing package, the prefix Test is a requirement in the function name, to test the function Sum(x, y) result of the math package, we can create a test function with the following signature, func TestSum(t *testing.T).\nfunc TestSum(t *testing.T) { x := 1 y := 2 expected := 3 result := math.Sum(x, y) if result != expected { t.Errorf( \"Expected that %d+%d is %d, but actual take %d\", x, y, expected, result) } } In Go, it is common to use a test table to define test cases, a struct is created, abstracting all inputs and expected output, likes in the sum test, there would be two numbers to be added, and the expected result of the sum.\nInstead of calling the sum function, once, and validating its result, using a test table, a loop is defined to go through the entire table, calling the function several times.\nfunc TestSum(t *testing.T) { testTable := []struct { x int y int expected int }{ {1, 1, 2}, {0, 1, 1}, {0, 0, 0}, {0, -1, -1}, {-1, -1, -2}, } for _, test := range testTable { result := math.Sum(test.x, text.y) if result != tabela.expected { t.Errorf( \"Expected that %d+%d is %d, but actual take %d\", test.x, test.y, test.expected, result) } } } WARNING: Go is very strict when naming a package, the only exception for compound names is the _test suffix, as in math_test package, so anyone using the math package will not have visibility of the test functions.\nWhen everything goes as expected, there was no error, the tests are said to have passed, so in Go, if you donâ€™t call any method t.Fail() or t.Error() or Errorf() to format the error, if none of these functions are invoked, the tests will pass.\nIf you prefer to use an assertion line of reasoning, there is a package called testify, which provides helper functions validations, and comparisons.\nHow to run tests in Golang? The $go test tool checks all files ending with _test.go for test functions, generates a temporary core package that uses it properly, runs the tests, reports the results, and then cleans them up, The Go Programming Language, 2016.\n$ go test ./... ? example.com/test\t[no test files] ok example.com/test/math\t0.001s If the tests do not pass, a FAIL message will be displayed, showing the name of the failed test function, and if any messageâ€™s error has been implemented will show it, explaining the reasons for the error, will also appear in the output of the stdout. terminal.\n$ go test ./... --- FAIL: TestSum (0.00s) sum_test.go:25: Expected that 1+1 is 2, but actual take 4 sum_test.go:25: Expected that 0+1 is 1, but actual take 3 sum_test.go:25: Expected that 0+0 is 0, but actual take 2 sum_test.go:25: Expected that 0+-1 is -1, but actual take 1 sum_test.go:25: Expected that -1+-1 is -2, but actual take 0 FAIL FAIL\texample.com/test/math\t0.001s FAIL Conclusions! Using test tables is more complex than writing multiple test functions to cover possible scenarios, but it reduces the codeâ€™s amount.\nYou donâ€™t need any packages outside the standard library to write tests in Golang, the testing package provides what you need. The testify package can be used in more complex cases, with more validations, and to work better with an error message and log formatting.\nReferences  Book: The Go Programming Language, Chapter 11, Tests. Book: Mastering Go, chapter 11, Code Testing, Optimization, and Profiling Book: Introducing Go, chapter 9, Testing Website: Standard library, testing package Website: Github stretchr, testify package  ","wordCount":"725","inLanguage":"en","datePublished":"2021-09-01T22:00:03Z","dateModified":"2021-09-01T22:00:03Z","author":{"@type":"Person","name":"Jucelio Floresta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jucelio.dev/en/posts/how-to-write-unit-tests-in-golang/"},"publisher":{"@type":"Organization","name":"Jucelio Floresta","logo":{"@type":"ImageObject","url":"https://jucelio.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jucelio.dev/en/ accesskey=h title="Jucelio Floresta (Alt + H)">Jucelio Floresta</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://jucelio.dev/pt-br/ title=pt-br aria-label=":brazil: PortuguÃªs">ðŸ‡§ðŸ‡· PortuguÃªs</a></li></ul></span></div><ul id=menu><li><a href=https://jucelio.dev/en/posts/ title=posts><span>posts</span></a></li><li><a href=https://jucelio.dev/en/tags/ title=tags><span>tags</span></a></li><li><a href=https://jucelio.dev/en/about/ title=about><span>about</span></a></li><li><a href=https://jucelio.dev/en/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jucelio.dev/en/>Home</a>&nbsp;Â»&nbsp;<a href=https://jucelio.dev/en/posts/>Posts</a></div><h1 class=post-title>How to write unit tests in the Go programming language?</h1><div class=post-meta>September 1, 2021&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Jucelio Floresta</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#why-should-you-write-tests aria-label="Why should you write tests?">Why should you write tests?</a></li><li><a href=#how-are-tests-written-in-golang aria-label="How are tests written in Golang?">How are tests written in Golang?</a></li><li><a href=#how-to-run-tests-in-golang aria-label="How to run tests in Golang?">How to run tests in Golang?</a></li><li><a href=#conclusions aria-label=Conclusions!>Conclusions!</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><h2 id=why-should-you-write-tests>Why should you write tests?<a hidden class=anchor aria-hidden=true href=#why-should-you-write-tests>#</a></h2><p>Programming is not an easy task, write test is neither, but part of the software development process is writing tests. Testing our code is a good way to ensure quality and improve reliability, <a href=https://www.amazon.com.br/Introducing-Go-Reliable-Scalable-Programs-ebook/dp/B01AB3G496>Introducing Go, 2016</a>. When we talk about testing, we&rsquo;re implicitly referring to automated testing, it&rsquo;s the practice of writing small programs that check that code behaves as expected for defined entries, The Go Programming Language, 2016]<a href=https://www.amazon.com.br/Programming-Language-Addison-Wesley-Professional-Computing-ebook/dp/B0184N7WWS>book-the-go-programming-language</a>.</p><h2 id=how-are-tests-written-in-golang>How are tests written in Golang?<a hidden class=anchor aria-hidden=true href=#how-are-tests-written-in-golang>#</a></h2><p>The Golang standard library <a href=https://golang.org/pkg/testing/><em>testing</em></a> package provides support for writing automated tests. A file with the suffix <code>_test.go</code> must exist, for example, to test <code>sum.go</code>, a <code>sum_test.go</code> file created.</p><p>Inside this file with suffix <code>_test.go</code> the test functions are defined, with the signature <code>func TestFuncName(t *testing.T)</code>, where the parameter <em>t</em> is a reference to the type <em>testing.T</em>, imported from the <em>testing</em> package, the prefix <em>Test</em> is a requirement in the function name, to test the function <code>Sum(x, y) result</code> of the math package, we can create a test function with the following signature, <code>func TestSum(t *testing.T)</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestSum</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
    <span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
    <span style=color:#a6e22e>expected</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>3</span>
    <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Sum</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>)

    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>expected</span> {
        <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Errorf</span>(
            <span style=color:#e6db74>&#34;Expected that %d+%d is %d, but actual take %d&#34;</span>,
            <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>expected</span>, <span style=color:#a6e22e>result</span>)
    }
}
</code></pre></div><p>In Go, it is common to use a test table to define test cases, a <em>struct</em> is created, abstracting all inputs and expected output, likes in the sum test, there would be two numbers to be added, and the expected result of the sum.</p><p>Instead of calling the sum function, once, and validating its result, using a test table, a loop is defined to go through the entire table, calling the function several times.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestSum</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
    <span style=color:#a6e22e>testTable</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>struct</span> {
        <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>
        <span style=color:#a6e22e>y</span> <span style=color:#66d9ef>int</span>
        <span style=color:#a6e22e>expected</span> <span style=color:#66d9ef>int</span>
    }{
        {<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>},
        {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>},
        {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>},
        {<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>},
        {<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>},
    }

    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>test</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>testTable</span> {
        <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Sum</span>(<span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>tabela</span>.<span style=color:#a6e22e>expected</span> {
            <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Errorf</span>(
                <span style=color:#e6db74>&#34;Expected that %d+%d is %d, but actual take %d&#34;</span>,
                <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>expected</span>, <span style=color:#a6e22e>result</span>)
        }
    }
}
</code></pre></div><p>WARNING: Go is very strict when naming a package, the only exception for compound names is the <em>_test</em> suffix, as in <code>math_test</code> package, so anyone using the math package will not have visibility of the test functions.</p><p>When everything goes as expected, there was no error, the tests are said to have passed, so in Go, if you don&rsquo;t call any method <code>t.Fail()</code> or <code>t.Error()</code> or <code>Errorf()</code> to format the error, if none of these functions are invoked, the tests will pass.</p><p>If you prefer to use an assertion line of reasoning, there is a package called <a href=https://pkg.go.dev/github.com/stretchr/testify><em>testify</em></a>, which provides helper functions validations, and comparisons.</p><h2 id=how-to-run-tests-in-golang>How to run tests in Golang?<a hidden class=anchor aria-hidden=true href=#how-to-run-tests-in-golang>#</a></h2><p>The <code>$go test</code> tool checks all files ending with <code>_test.go</code> for test functions, generates a temporary core package that uses it properly, runs the tests, reports the results, and then cleans them up, <a href=https://www.amazon.com.br/Programming-Language-Addison-Wesley-Professional-Computing-ebook/dp/B0184N7WWS>The Go Programming Language, 2016</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ go test ./...

?   	example.com/test	<span style=color:#f92672>[</span>no test files<span style=color:#f92672>]</span>
ok  	example.com/test/math	0.001s
</code></pre></div><p>If the tests do not pass, a <em>FAIL</em> message will be displayed, showing the name of the failed test function, and if any message&rsquo;s error has been implemented will show it, explaining the reasons for the error, will also appear in the output of the <em>stdout</em>. terminal.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ go test ./...

--- FAIL: TestSum <span style=color:#f92672>(</span>0.00s<span style=color:#f92672>)</span>
    sum_test.go:25: Expected that 1+1 is 2, but actual take <span style=color:#ae81ff>4</span>
    sum_test.go:25: Expected that 0+1 is 1, but actual take <span style=color:#ae81ff>3</span>
    sum_test.go:25: Expected that 0+0 is 0, but actual take <span style=color:#ae81ff>2</span>
    sum_test.go:25: Expected that 0+-1 is -1, but actual take <span style=color:#ae81ff>1</span>
    sum_test.go:25: Expected that -1+-1 is -2, but actual take <span style=color:#ae81ff>0</span>
FAIL
FAIL	example.com/test/math	0.001s
FAIL
</code></pre></div><h2 id=conclusions>Conclusions!<a hidden class=anchor aria-hidden=true href=#conclusions>#</a></h2><p>Using test tables is more complex than writing multiple test functions to cover possible scenarios, but it reduces the code&rsquo;s amount.</p><p>You don&rsquo;t need any packages outside the standard library to write tests in Golang, the testing package provides what you need. The testify package can be used in more complex cases, with more validations, and to work better with an error message and log formatting.</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=https://www.amazon.com.br/Programming-Language-Addison-Wesley-Professional-Computing-ebook/dp/B0184N7WWS>Book: The Go Programming Language, Chapter 11, Tests.</a></li><li><a href=https://www.amazon.com.br/Mastering-production-applications-concurrency-structures-ebook/dp/B07WC24RTQ>Book: Mastering Go, chapter 11, Code Testing, Optimization, and Profiling</a></li><li><a href=https://www.amazon.com.br/Introducing-Go-Reliable-Scalable-Programs-ebook/dp/B01AB3G496>Book: Introducing Go, chapter 9, Testing</a></li><li><a href=https://golang.org/pkg/testing/>Website: Standard library, testing package</a></li><li><a href=https://pkg.go.dev/github.com/stretchr/testify>Website: Github stretchr, testify package</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://jucelio.dev/en/tags/unit-test/>unit test</a></li><li><a href=https://jucelio.dev/en/tags/go/>Go</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://jucelio.dev/en/>Jucelio Floresta</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>